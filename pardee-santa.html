<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Pardee Family Secret Santa Assignments</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Nunito&display=swap" rel="stylesheet"> 
    <style type="text/css">
        body {
          font-family: 'Nunito', sans-serif;
          color: #f6cc75 ;
          background-color: #04201c ;
          padding-left: 5% ;
          padding-top: 1% ;
          font-size: 1.5em;
        }
        table {
            width: 40% ;
            height: 200px ;
            border-collapse: collapse ;
            border: 3px solid #f6cc75 ;
        }
        th {
            font-weight: bolder ;
        }
        td, th {
            border: 3px solid #f6cc75 ;
            padding: 8px ;
        }

    </style>
</head>
<body>
    <h1>Not-So-Secret Santa Assignments For Christmas <span id="this_year"></span></h1>
    <div id = "heretable"></div>
    <script type="text/javascript">
        function make_table(this_year) {
            $("#this_year").append(this_year) ;
            var family_lookup = {
              "T&J": "Tim & Jen",
              "T&L": "Ted & Laurel",
              "R&A": "Mom Pardee",
              "M&M": "Mike & Mary"
            } ;
            var year_mod = this_year % 3 ;
            var assignment_key =  { 0: [
                                            {fam_1: "T&J", fam_2: "M&M"},
                                            {fam_1: "T&L", fam_2: "T&J"},
                                            {fam_1: "R&A", fam_2: "T&L"},
                                            {fam_1: "M&M", fam_2: "R&A"}
                                        ],
                                    1: [
                                            {fam_1: "T&J", fam_2: "R&A"},
                                            {fam_1: "T&L", fam_2: "M&M"},
                                            {fam_1: "R&A", fam_2: "T&J"},
                                            {fam_1: "M&M", fam_2: "T&L"}
                                        ],
                                    2: [
                                          {fam_1: "T&J", fam_2: "T&L"},
                                          {fam_1: "T&L", fam_2: "R&A"},
                                          {fam_1: "R&A", fam_2: "M&M"},
                                          {fam_1: "M&M", fam_2: "T&J"}
                                        ]
                                  } ;
            var this_years_assignments = assignment_key[year_mod] ;
            var tbl = $('<table>').addClass('darkTable') ;
            var thead = $('<thead>') ;
            thead.append($('<th>').text("This family:")) ;
            thead.append($('<th>').text("Buys for:")) ;
            tbl.append(thead) ;
            for (var i = Object.keys(this_years_assignments).length - 1; i >= 0; i--) {
                var row = $('<tr>') ;
                row.append($('<td>').text(family_lookup[this_years_assignments[i].fam_1])) ;
                row.append($('<td>').text(family_lookup[this_years_assignments[i].fam_2])) ;
                tbl.append(row) ;
            }
            return tbl ;
        }
        $(document).ready(function(){
            var d = new Date() ;
            $("#heretable").append(make_table(d.getFullYear())) ;
            // $("#heretable").append(make_table(2019)) ;
        })
    </script>
</body>
</html>