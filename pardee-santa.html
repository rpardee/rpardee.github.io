<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Pardee Family Secret Santa Assignments</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <style type="text/css">
        body {
          font-family: "Arial Black", Gadget, sans-serif;
      }
        table.darkTable {
          border: 2px solid #000000;
          background-color: #4A4A4A;
          width: 40%;
          height: 200px;
          text-align: left ;
          border-collapse: collapse;
        }
        table.darkTable td, table.darkTable th {
          border: 1px solid #4A4A4A;
          padding: 3px 2px;
        }
        table.darkTable tbody td {
          font-size: 13px;
          color: #E6E6E6;
        }
        table.darkTable tr:nth-child(even) {
          background: #888888;
        }
        table.darkTable thead {
          background: #000000;
          border-bottom: 3px solid #000000;
        }
        table.darkTable thead th {
          font-size: 15px;
          font-weight: bold;
          color: #E6E6E6;
          text-align: center;
          border-left: 2px solid #4A4A4A;
        }
        table.darkTable thead th:first-child {
          border-left: none;
        }

        table.darkTable tfoot {
          font-size: 12px;
          font-weight: bold;
          color: #E6E6E6;
          background: #000000;
          background: -moz-linear-gradient(top, #404040 0%, #191919 66%, #000000 100%);
          background: -webkit-linear-gradient(top, #404040 0%, #191919 66%, #000000 100%);
          background: linear-gradient(to bottom, #404040 0%, #191919 66%, #000000 100%);
          border-top: 1px solid #4A4A4A;
        }
        table.darkTable tfoot td {
          font-size: 12px;
        }        
    </style>
</head>
<body>
    <h1>Not-So-Secret Santa Assignments For Christmas <span id="this_year"></span></h1>
    <div id = "heretable"></div>
    <script type="text/javascript">
        function make_table(this_year) {
            $("#this_year").append(this_year) ;
            var family_lookup = {
              "T&J": "Tim & Jen",
              "T&L": "Ted & Laurel",
              "R&A": "Mom Pardee",
              "M&M": "Mike & Mary"
            } ;
            var year_mod = this_year % 3 ;
            var assignment_key =  { 0: [
                                            {fam_1: "T&J", fam_2: "M&M"},
                                            {fam_1: "T&L", fam_2: "T&J"},
                                            {fam_1: "R&A", fam_2: "T&L"},
                                            {fam_1: "M&M", fam_2: "R&A"}
                                        ],
                                    1: [
                                            {fam_1: "T&J", fam_2: "R&A"},
                                            {fam_1: "T&L", fam_2: "M&M"},
                                            {fam_1: "R&A", fam_2: "T&J"},
                                            {fam_1: "M&M", fam_2: "T&L"}
                                        ],
                                    2: [
                                          {fam_1: "T&J", fam_2: "T&L"},
                                          {fam_1: "T&L", fam_2: "R&A"},
                                          {fam_1: "R&A", fam_2: "M&M"},
                                          {fam_1: "M&M", fam_2: "T&J"}
                                        ]
                                  } ;
            var this_years_assignments = assignment_key[year_mod] ;
            var tbl = $('<table>').addClass('darkTable') ;
            var thead = $('<thead>') ;
            thead.append($('<th>').text("This family:")) ;
            thead.append($('<th>').text("Buys for:")) ;
            tbl.append(thead) ;
            for (var i = Object.keys(this_years_assignments).length - 1; i >= 0; i--) {
                var row = $('<tr>') ;
                row.append($('<td>').text(family_lookup[this_years_assignments[i].fam_1])) ;
                row.append($('<td>').text(family_lookup[this_years_assignments[i].fam_2])) ;
                tbl.append(row) ;
            }
            return tbl ;
        }
        $(document).ready(function(){
            var d = new Date() ;
            $("#heretable").append(make_table(d.getFullYear())) ;
            // $("#heretable").append(make_table(2019)) ;
        })
    </script>
</body>
</html>